System.register("chunks:///_virtual/Label3D.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,s,n,a,h,r,o,u,_,l,p,c,d,v,g,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){h=t.cclegacy,r=t._decorator,o=t.Material,u=t.Size,_=t.Vec2,l=t.Label,p=t.MeshRenderer,c=t.utils,d=t.ImageAsset,v=t.Texture2D,g=t.RenderTexture,m=t.Component}],execute:function(){var x,f,R,y,M,D,S;h._RF.push({},"72d62BAtutJnJHuMExfyoWO","Label3D",void 0);var w=r.ccclass,b=r.property,z=r.executeInEditMode,L=t("BASELINE_RATIO",.26);t("Label3D",(x=w("Label3D"),f=b({displayOrder:2,multiline:!0}),R=b({type:o,displayOrder:2}),x(y=z((D=e((M=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),h=0;h<i;h++)a[h]=arguments[h];return e=t.call.apply(t,[this].concat(a))||this,s(e,"_string",D,n(e)),s(e,"_material",S,n(e)),e._splitStrings=[],e._assemblerData=null,e._context=null,e._canvas=null,e._texture=null,e._meshRender=null,e._canvasSize=new u,e._worldBounds=null,e._uvs=[],e._positions=[],e._startPosition=new _,e}i(e,t);var h=e.prototype;return h.onLoad=function(){this.initMeshRender()},h.onEnable=function(){this._assemblerData=l._canvasPool.get(),this.updateRenderData()},h.start=function(){this.updateRenderData()},h.updateRenderData=function(){this._assemblerData&&(this._context=this._assemblerData.context,this._canvas=this._assemblerData.canvas,this.initTexture2D(),this.updateFontFormatting(),this.updateFontCanvasSize(),this.updateRenderMesh(),this.updateFontRenderingStyle(),this.updateTexture(),this.updateMaterial(),this.resetRenderData())},h.initMeshRender=function(){this._meshRender=this.node.getComponent(p),this._meshRender||(this._meshRender=this.node.addComponent(p)),this.initRenderMesh()},h.initRenderMesh=function(){var t;this._positions.push(-.5,-.5,0),this._uvs.push(0,1),this._positions.push(.5,-.5,0),this._uvs.push(1,1),this._positions.push(-.5,.5,0),this._uvs.push(0,0),this._positions.push(-.5,.5,0),this._uvs.push(0,0),this._positions.push(.5,-.5,0),this._uvs.push(1,1),this._positions.push(.5,.5,0),this._uvs.push(1,0),this._meshRender.mesh=c.MeshUtils.createMesh({positions:this._positions,uvs:this._uvs,minPos:{x:-.5,y:-.5,z:0},maxPos:{x:.5,y:.5,z:0}}),null==(t=this._meshRender.model)||t.updateWorldBound(),this.updateMeshRenderMaterial()},h.updateMeshRenderMaterial=function(){this._meshRender&&this._material&&(this._meshRender.material=this._material)},h.initTexture2D=function(){if(!this._texture){var t=new d(this._canvas);this._texture=new v,this._texture.image=t}},h.updateTexture=function(){if(this._context&&this._canvas){this._context.clearRect(0,0,this._canvas.width,this._canvas.height);for(var t=0,e=0,i=0;i<this._splitStrings.length;i++){e=this._startPosition.y+(i+1)*this.getLineHeight();var s=this._context.measureText(this._splitStrings[i]).width;t=(this._canvas.width-s)/2,this._context.fillText(this._splitStrings[i],t,e)}0!==this._canvas.width&&0!==this._canvas.height&&(this._texture.reset({width:this._canvas.width,height:this._canvas.height,mipmapLevel:1}),this._texture.uploadData(this._canvas),this._texture.setWrapMode(g.WrapMode.CLAMP_TO_EDGE,g.WrapMode.CLAMP_TO_EDGE))}},h.updateMaterial=function(){this._texture&&(this._meshRender&&this._material&&this._meshRender.getMaterialInstance(0).setProperty("mainTexture",this._texture))},h.updateFontFormatting=function(){if(this._context){var t=this._string.split("\\n");this._splitStrings=t;for(var e=0;e<t.length;e++){var i=this._context.measureText(t[e]).width;i>this._canvasSize.width&&(this._canvasSize.width=i)}this._canvasSize.height=t.length*this.getLineHeight()+L*this.getLineHeight()}},h.updateFontCanvasSize=function(){this._canvasSize.width=Math.min(this._canvasSize.width,2048),this._canvasSize.height=Math.min(this._canvasSize.height,2048),this._canvas.width!=this._canvasSize.width&&(this._canvas.width=this._canvasSize.width),this._canvas.height!=this._canvasSize.height&&(this._canvas.height=this._canvasSize.height),this._context.font=this.getFontDesc()},h.updateFontRenderingStyle=function(){this._context.font=this.getFontDesc(),this._context.lineJoin="round",this._context.textAlign="left",this._context.textBaseline="alphabetic",this._context.fillStyle="rgba(255, 255, 255, 255)"},h.updateRenderMesh=function(){var t,e=this._canvas.width/this._canvas.height;this._positions=[],this._positions.push(-.5*e,-.5,0),this._positions.push(.5*e,-.5,0),this._positions.push(-.5*e,.5,0),this._positions.push(-.5*e,.5,0),this._positions.push(.5*e,-.5,0),this._positions.push(.5*e,.5,0),this._meshRender.mesh=c.MeshUtils.createMesh({positions:this._positions,uvs:this._uvs,minPos:{x:-.5,y:-.5,z:0},maxPos:{x:.5,y:.5,z:0}}),null==(t=this._meshRender.model)||t.updateWorldBound(),this.updateMeshRenderMaterial()},h.getLineHeight=function(){return 50},h.getFontDesc=function(){return"50px ","Arial","50px Arial"},h.resetRenderData=function(){this._canvasSize.width=0,this._canvasSize.height=0},h.update=function(t){},h.onDisable=function(){this._assemblerData&&l._canvasPool.put(this._assemblerData),this._meshRender=null},a(e,[{key:"string",get:function(){return this._string},set:function(t){t=null==t?"":t.toString(),this._string!==t&&(this._string=t,this.updateRenderData())}},{key:"material",get:function(){return this._material},set:function(t){this._material=t,this.updateMeshRenderMaterial()}}]),e}(m)).prototype,"_string",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(M.prototype,"string",[f],Object.getOwnPropertyDescriptor(M.prototype,"string"),M.prototype),S=e(M.prototype,"_material",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(M.prototype,"material",[R],Object.getOwnPropertyDescriptor(M.prototype,"material"),M.prototype),y=M))||y)||y));h._RF.pop()}}}));

System.register("chunks:///_virtual/LoginHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NetworkManager.ts"],(function(n){var t,e,o,r,i,a,s,c,u,l,p;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized,i=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){s=n.cclegacy,c=n._decorator,u=n.Button,l=n.Component},function(n){p=n.NetworkManager}],execute:function(){var g,d,h,f,y;s._RF.push({},"76c1cN8m5pGLKMag4p1tcze","LoginHandler",void 0);var L=c.ccclass,v=c.property;n("LoginHandler",(g=L("LoginHandler"),d=v({type:u}),g((y=t((f=function(n){function t(){for(var t,e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i))||this,o(t,"loginButton",y,r(t)),t._isLoggedIn=!1,t._rid=null,t._key=null,t}e(t,n);var s=t.prototype;return s.onLoad=function(){this.loginButton&&this.loginButton.node.on(u.EventType.CLICK,this.onLoginButtonClick,this)},s.onLoginButtonClick=function(){var n=i(a().mark((function n(){var t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this._isLoggedIn){n.next=2;break}return n.abrupt("return");case 2:return"user","password",n.next=6,p.instance.login("user","password");case 6:(t=n.sent)?(this._isLoggedIn=!0,p.instance.connectWebSocket(t.host_port,t.rid,t.key),this.loginButton?this.loginButton.node.active=!1:console.error("loginButton 未初始化")):console.error("登录失败");case 8:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),t}(l)).prototype,"loginButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Label3D.ts","./LoginHandler.ts","./NavMesh.ts","./NetworkManager.ts","./PacketHeader.ts","./PlayerControl.ts","./TerrainToObj.ts","./TheLowerHeight.ts","./pb_client.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/NavMesh.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Label3D.ts"],(function(t){var e,n,r,o,i,a,c,s,l,u,p,f,h,b,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,s=t._decorator,l=t.Button,u=t.Prefab,p=t.director,f=t.instantiate,h=t.Vec3,b=t.Component},function(t){v=t.Label3D}],execute:function(){var y,d,g,w,P,B,m,C,L;c._RF.push({},"a3b22TBLAZMfqkhRpkJhAXF","NavMesh",void 0);var k=s.ccclass,M=s.property;t("NavMesh",(y=k("NavMesh"),d=M({type:l}),g=M({type:u}),w=M({type:u}),y((m=e((B=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,r(e,"testButton",m,o(e)),r(e,"characterPrefab",C,o(e)),r(e,"labelPrefab",L,o(e)),e}n(e,t);var c=e.prototype;return c.onLoad=function(){this.testButton&&this.testButton.node.on(l.EventType.CLICK,this.onTestButtonClick,this),p.getScene().on("nav-result",this.onNavShow,this)},c.onNavShow=function(t){var e=this;console.log("pos:",t.length),t.forEach((function(t){var n=f(e.characterPrefab);n.scale=new h(10,10,10),n.setPosition(t);var r=f(e.labelPrefab);r.position=new h(0,.07,0),r.scale=new h(.01,.01,.01),r.getComponent(v).string=n.position.toString(),n.addChild(r),e.node.addChild(n)}))},c.onTestButtonClick=function(){var t=i(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e}(b)).prototype,"testButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(B.prototype,"characterPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(B.prototype,"labelPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=B))||P));c._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./pb_client.ts","./PacketHeader.ts"],(function(e){var t,n,a,r,s,o,c,i,d,l,u,_,h,S,g;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,s=e.director,o=e.Vec3},function(e){c=e.PacCRoleLogin,i=e.PacMsgID,d=e.PacSSkillPacket,l=e.PacSBroadcastSkill,u=e.PacSBroadcastRoleLeaveGame,_=e.PacSRoleMapInfos,h=e.PacSRoleLogin,S=e.PacSBroadcastRoleLogin},function(e){g=e.PacketHeader}],execute:function(){r._RF.push({},"4251b/b3jlPZbOABzHxtiGA","NetworkManager",void 0),e("NetworkManager",function(){function e(){this.ws=null,this._http_url="https://actegame.cn:25551/api/",this.rid=""}var r=e.prototype;return r.login=function(){var e=n(a().mark((function e(t,n){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this._http_url,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({account:t,password:n})});case 3:if(!(r=e.sent).ok){e.next=12;break}return e.next=7,r.json();case 7:return s=e.sent,console.info("response.ok:",s),e.abrupt("return",{host_port:s.host_port,rid:s.rid,key:s.key});case 12:console.error("Response failed:",r);case 13:return e.abrupt("return",null);case 16:return e.prev=16,e.t0=e.catch(0),console.error("Login failed:",e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),r.connectWebSocket=function(e,t,n){var a=this;this.ws||(this.ws=new WebSocket("wss://"+e+"/ws/"+t),this.ws.binaryType="arraybuffer",this.rid=t,this.ws.onopen=function(){console.log("WebSocket connected");var e=s.getScene();e?e.emit("websocket-connected"):console.error("Scene is null, cannot emit event");var t=c.encode({account_id:BigInt(a.rid),role_id:BigInt(a.rid)}).finish();a.send(i.PacMsgID_MSG_ROLE_LOGIN_REQ,t)},this.ws.onmessage=function(e){a.handleMessage(e.data)},this.ws.onclose=function(){console.log("WebSocket disconnected"),a.ws=null})},r.handleMessage=function(e){"string"==typeof e?this.handleJsonData(e):this.handleBinaryData(e)},r.handleBinaryData=function(e){var t=new g,n=t.decode(e),a=s.getScene();if(a)switch(t.msg_id){case i.PacMsgID_MSG_ROLE_SCENE_LOGIN_BROADCAST:var r=S.decode(n);r&&a.emit("other-login-success",r.role_id,new o(r.x,r.y,r.z),new o(r.dx,r.dy,r.dz));break;case i.PacMsgID_MSG_ROLE_LOGIN_ACK:var c=h.decode(n);c&&a.emit("scene-login-success",new o(c.x,c.y,c.z),new o(c.dx,c.dy,c.dz));break;case i.PacMsgID_MSG_ROLE_SROUND_POSS_ACK:var f=_.decode(n);f&&a.emit("other-infos",f.role_poses);break;case i.PacMsgID_MSG_ROLE_LAEVE_GAME_BROADCAST:var p=u.decode(n);p&&a.emit("other-leave",p.role_id);break;case i.PacMsgID_MSG_ROLE_SKILL_BROADCAST:var v=l.decode(n);v&&a.emit("other-move",v.role_id,new o(v.x,v.y,v.z),new o(v.dx,v.dy,v.dz));break;case i.PacMsgID_MSG_ROLE_SKILL_ACK:var w=d.decode(n);if(w.SMove){var y=w.SMove;a.emit("transform-invalid",new o(y.x,y.y,y.z),new o(y.dx,y.dy,y.dz))}else if(w.SSkillStateFailed){var k=w.SSkillStateFailed;a.emit("skill-state-invalid",k.ret_code)}}},r.handleJsonData=function(e){try{JSON.parse(e).type}catch(t){console.error("Message parse error:",t,e)}},r.send=function(e,t){var n;if((null==(n=this.ws)?void 0:n.readyState)===WebSocket.OPEN){var a=new g;a.pkt_size=t.byteLength,a.msg_id=e;var r=a.toBinary(),s=new Uint8Array(g.HEADER_SIZE+t.byteLength);s.set(r,0),s.set(t,g.HEADER_SIZE),this.ws.send(s)}},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/PacketHeader.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"b423cxYB8hPqpsWNBjvqtCw","PacketHeader",void 0),t("PacketHeader",function(){function t(){this.check_code=0,this.pkt_size=0,this.msg_id=0}var e=t.prototype;return e.decode=function(t){var e=new DataView(t);return this.check_code=e.getUint8(0),this.pkt_size=e.getUint8(1)<<16|e.getUint8(2)<<8|e.getUint8(3),this.msg_id=e.getUint8(4)<<16|e.getUint8(5)<<8|e.getUint8(6),new Uint8Array(t.slice(8))},e.toBinary=function(){var e=new ArrayBuffer(t.HEADER_SIZE),i=new DataView(e);i.setUint8(0,255&this.check_code),i.setUint8(1,this.pkt_size>>16&255),i.setUint8(2,this.pkt_size>>8&255),i.setUint8(3,255&this.pkt_size);var n=this.msg_id>>16&255,s=this.msg_id>>8&255,c=255&this.msg_id;return i.setUint8(4,n),i.setUint8(5,s),i.setUint8(6,c),i.setUint8(7,0),new Uint8Array(e)},t}()).HEADER_SIZE=8,e._RF.pop()}}}));

System.register("chunks:///_virtual/pb_client.ts",["./rollupPluginModLoBabelHelpers.js","cc","./binary-encoding.js","./descriptors.js","./size-delimited.js"],(function(e){var t,i,n,r;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy},function(e){n=e.BinaryWriter,r=e.BinaryReader},null,null],execute:function(){e({pacMsgIDFromJSON:function(e){switch(e){case 0:case"PacMsgID_EMPTY_PLACEHOLDER":return a.PacMsgID_EMPTY_PLACEHOLDER;case 200001:case"PacMsgID_MSG_ROLE_LOGIN_REQ":return a.PacMsgID_MSG_ROLE_LOGIN_REQ;case 200002:case"PacMsgID_MSG_ROLE_LOGIN_ACK":return a.PacMsgID_MSG_ROLE_LOGIN_ACK;case 300001:case"PacMsgID_MSG_ROLE_SKILL_REQ":return a.PacMsgID_MSG_ROLE_SKILL_REQ;case 300002:case"PacMsgID_MSG_ROLE_SKILL_ACK":return a.PacMsgID_MSG_ROLE_SKILL_ACK;case 300003:case"PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_REQ":return a.PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_REQ;case 300004:case"PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_ACK":return a.PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_ACK;case 300005:case"PacMsgID_MSG_ROLE_SROUND_POSS_ACK":return a.PacMsgID_MSG_ROLE_SROUND_POSS_ACK;case 300006:case"PacMsgID_MSG_ROLE_SROUND_STATE_ACK":return a.PacMsgID_MSG_ROLE_SROUND_STATE_ACK;case 300007:case"PacMsgID_MSG_ROLE_SROUND_BASE_ACK":return a.PacMsgID_MSG_ROLE_SROUND_BASE_ACK;case 400001:case"PacMsgID_MSG_ROLE_SKILL_BROADCAST":return a.PacMsgID_MSG_ROLE_SKILL_BROADCAST;case 400002:case"PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_BROADCAST":return a.PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_BROADCAST;case 400003:case"PacMsgID_MSG_ROLE_SCENE_LOGIN_BROADCAST":return a.PacMsgID_MSG_ROLE_SCENE_LOGIN_BROADCAST;case 400004:case"PacMsgID_MSG_ROLE_LAEVE_GAME_BROADCAST":return a.PacMsgID_MSG_ROLE_LAEVE_GAME_BROADCAST;case-1:case"UNRECOGNIZED":default:return a.UNRECOGNIZED}},pacMsgIDToJSON:function(e){switch(e){case a.PacMsgID_EMPTY_PLACEHOLDER:return"PacMsgID_EMPTY_PLACEHOLDER";case a.PacMsgID_MSG_ROLE_LOGIN_REQ:return"PacMsgID_MSG_ROLE_LOGIN_REQ";case a.PacMsgID_MSG_ROLE_LOGIN_ACK:return"PacMsgID_MSG_ROLE_LOGIN_ACK";case a.PacMsgID_MSG_ROLE_SKILL_REQ:return"PacMsgID_MSG_ROLE_SKILL_REQ";case a.PacMsgID_MSG_ROLE_SKILL_ACK:return"PacMsgID_MSG_ROLE_SKILL_ACK";case a.PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_REQ:return"PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_REQ";case a.PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_ACK:return"PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_ACK";case a.PacMsgID_MSG_ROLE_SROUND_POSS_ACK:return"PacMsgID_MSG_ROLE_SROUND_POSS_ACK";case a.PacMsgID_MSG_ROLE_SROUND_STATE_ACK:return"PacMsgID_MSG_ROLE_SROUND_STATE_ACK";case a.PacMsgID_MSG_ROLE_SROUND_BASE_ACK:return"PacMsgID_MSG_ROLE_SROUND_BASE_ACK";case a.PacMsgID_MSG_ROLE_SKILL_BROADCAST:return"PacMsgID_MSG_ROLE_SKILL_BROADCAST";case a.PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_BROADCAST:return"PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_BROADCAST";case a.PacMsgID_MSG_ROLE_SCENE_LOGIN_BROADCAST:return"PacMsgID_MSG_ROLE_SCENE_LOGIN_BROADCAST";case a.PacMsgID_MSG_ROLE_LAEVE_GAME_BROADCAST:return"PacMsgID_MSG_ROLE_LAEVE_GAME_BROADCAST";case a.UNRECOGNIZED:default:return"UNRECOGNIZED"}},pacSkillMsgIDFromJSON:function(e){switch(e){case 0:case"PacSkillMsgID_EMPTY_PLACEHOLDER":return o.PacSkillMsgID_EMPTY_PLACEHOLDER;case 100001:case"PacSkillMsgID_MSG_MOVE":return o.PacSkillMsgID_MSG_MOVE;case-1:case"UNRECOGNIZED":default:return o.UNRECOGNIZED}},pacSkillMsgIDToJSON:function(e){switch(e){case o.PacSkillMsgID_EMPTY_PLACEHOLDER:return"PacSkillMsgID_EMPTY_PLACEHOLDER";case o.PacSkillMsgID_MSG_MOVE:return"PacSkillMsgID_MSG_MOVE";case o.UNRECOGNIZED:default:return"UNRECOGNIZED"}},sevRoleTypeFromJSON:function(e){switch(e){case 0:case"SevRoleType_NPC":return l.SevRoleType_NPC;case 1:case"SevRoleType_PLAYER":return l.SevRoleType_PLAYER;case-1:case"UNRECOGNIZED":default:return l.UNRECOGNIZED}},sevRoleTypeToJSON:function(e){switch(e){case l.SevRoleType_NPC:return"SevRoleType_NPC";case l.SevRoleType_PLAYER:return"SevRoleType_PLAYER";case l.UNRECOGNIZED:default:return"UNRECOGNIZED"}}}),i._RF.push({},"3117cLmPGtHzKq3JPLhpAfX","pb_client",void 0);e("protobufPackage","eac");var a=e("PacMsgID",function(e){return e[e.PacMsgID_EMPTY_PLACEHOLDER=0]="PacMsgID_EMPTY_PLACEHOLDER",e[e.PacMsgID_MSG_ROLE_LOGIN_REQ=200001]="PacMsgID_MSG_ROLE_LOGIN_REQ",e[e.PacMsgID_MSG_ROLE_LOGIN_ACK=200002]="PacMsgID_MSG_ROLE_LOGIN_ACK",e[e.PacMsgID_MSG_ROLE_SKILL_REQ=300001]="PacMsgID_MSG_ROLE_SKILL_REQ",e[e.PacMsgID_MSG_ROLE_SKILL_ACK=300002]="PacMsgID_MSG_ROLE_SKILL_ACK",e[e.PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_REQ=300003]="PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_REQ",e[e.PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_ACK=300004]="PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_ACK",e[e.PacMsgID_MSG_ROLE_SROUND_POSS_ACK=300005]="PacMsgID_MSG_ROLE_SROUND_POSS_ACK",e[e.PacMsgID_MSG_ROLE_SROUND_STATE_ACK=300006]="PacMsgID_MSG_ROLE_SROUND_STATE_ACK",e[e.PacMsgID_MSG_ROLE_SROUND_BASE_ACK=300007]="PacMsgID_MSG_ROLE_SROUND_BASE_ACK",e[e.PacMsgID_MSG_ROLE_SKILL_BROADCAST=400001]="PacMsgID_MSG_ROLE_SKILL_BROADCAST",e[e.PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_BROADCAST=400002]="PacMsgID_MSG_ROLE_STATBLE_STATE_CHANGE_BROADCAST",e[e.PacMsgID_MSG_ROLE_SCENE_LOGIN_BROADCAST=400003]="PacMsgID_MSG_ROLE_SCENE_LOGIN_BROADCAST",e[e.PacMsgID_MSG_ROLE_LAEVE_GAME_BROADCAST=400004]="PacMsgID_MSG_ROLE_LAEVE_GAME_BROADCAST",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({}));var o=e("PacSkillMsgID",function(e){return e[e.PacSkillMsgID_EMPTY_PLACEHOLDER=0]="PacSkillMsgID_EMPTY_PLACEHOLDER",e[e.PacSkillMsgID_MSG_MOVE=100001]="PacSkillMsgID_MSG_MOVE",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({}));var l=e("SevRoleType",function(e){return e[e.SevRoleType_NPC=0]="SevRoleType_NPC",e[e.SevRoleType_PLAYER=1]="SevRoleType_PLAYER",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED",e}({}));function s(){return{account_id:BigInt("0"),role_id:BigInt("0")}}var u=e("PacCRoleLogin",{encode:function(e,t){if(void 0===t&&(t=new n),e.account_id!==BigInt("0")){if(BigInt.asIntN(64,e.account_id)!==e.account_id)throw new globalThis.Error("value provided for field message.account_id of type int64 too large");t.uint32(8).int64(e.account_id)}if(e.role_id!==BigInt("0")){if(BigInt.asIntN(64,e.role_id)!==e.role_id)throw new globalThis.Error("value provided for field message.role_id of type int64 too large");t.uint32(16).int64(e.role_id)}return t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a=s();i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.account_id=i.int64();continue;case 2:if(16!==o)break;a.role_id=i.int64();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{account_id:J(e.account_id)?BigInt(e.account_id):BigInt("0"),role_id:J(e.role_id)?BigInt(e.role_id):BigInt("0")}},toJSON:function(e){var t={};return e.account_id!==BigInt("0")&&(t.account_id=e.account_id.toString()),e.role_id!==BigInt("0")&&(t.role_id=e.role_id.toString()),t},create:function(e){return u.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n=s();return n.account_id=null!=(t=e.account_id)?t:BigInt("0"),n.role_id=null!=(i=e.role_id)?i:BigInt("0"),n}});var _=e("PacCSkillPacket",{encode:function(e,t){return void 0===t&&(t=new n),void 0!==e.CMove&&c.encode(e.CMove,t.uint32(10).fork()).join(),void 0!==e.CRotate&&d.encode(e.CRotate,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a={CMove:void 0,CRotate:void 0};i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(10!==o)break;a.CMove=c.decode(i,i.uint32());continue;case 2:if(18!==o)break;a.CRotate=d.decode(i,i.uint32());continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{CMove:J(e.CMove)?c.fromJSON(e.CMove):void 0,CRotate:J(e.CRotate)?d.fromJSON(e.CRotate):void 0}},toJSON:function(e){var t={};return void 0!==e.CMove&&(t.CMove=c.toJSON(e.CMove)),void 0!==e.CRotate&&(t.CRotate=d.toJSON(e.CRotate)),t},create:function(e){return _.fromPartial(null!=e?e:{})},fromPartial:function(e){var t={CMove:void 0,CRotate:void 0};return t.CMove=void 0!==e.CMove&&null!==e.CMove?c.fromPartial(e.CMove):void 0,t.CRotate=void 0!==e.CRotate&&null!==e.CRotate?d.fromPartial(e.CRotate):void 0,t}});var c=e("PacCMove",{encode:function(e,t){return void 0===t&&(t=new n),0!==e.skill_id&&t.uint32(8).int32(e.skill_id),!1!==e.is_start&&t.uint32(16).bool(e.is_start),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a={skill_id:0,is_start:!1};i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.skill_id=i.int32();continue;case 2:if(16!==o)break;a.is_start=i.bool();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{skill_id:J(e.skill_id)?globalThis.Number(e.skill_id):0,is_start:!!J(e.is_start)&&globalThis.Boolean(e.is_start)}},toJSON:function(e){var t={};return 0!==e.skill_id&&(t.skill_id=Math.round(e.skill_id)),!1!==e.is_start&&(t.is_start=e.is_start),t},create:function(e){return c.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n={skill_id:0,is_start:!1};return n.skill_id=null!=(t=e.skill_id)?t:0,n.is_start=null!=(i=e.is_start)&&i,n}});var d=e("PacCRotate",{encode:function(e,t){return void 0===t&&(t=new n),0!==e.skill_id&&t.uint32(8).int32(e.skill_id),!1!==e.is_start&&t.uint32(16).bool(e.is_start),0!==e.x&&t.uint32(29).float(e.x),0!==e.y&&t.uint32(37).float(e.y),0!==e.z&&t.uint32(45).float(e.z),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a={skill_id:0,is_start:!1,x:0,y:0,z:0};i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.skill_id=i.int32();continue;case 2:if(16!==o)break;a.is_start=i.bool();continue;case 3:if(29!==o)break;a.x=i.float();continue;case 4:if(37!==o)break;a.y=i.float();continue;case 5:if(45!==o)break;a.z=i.float();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{skill_id:J(e.skill_id)?globalThis.Number(e.skill_id):0,is_start:!!J(e.is_start)&&globalThis.Boolean(e.is_start),x:J(e.x)?globalThis.Number(e.x):0,y:J(e.y)?globalThis.Number(e.y):0,z:J(e.z)?globalThis.Number(e.z):0}},toJSON:function(e){var t={};return 0!==e.skill_id&&(t.skill_id=Math.round(e.skill_id)),!1!==e.is_start&&(t.is_start=e.is_start),0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),t},create:function(e){return d.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n,r,a,o={skill_id:0,is_start:!1,x:0,y:0,z:0};return o.skill_id=null!=(t=e.skill_id)?t:0,o.is_start=null!=(i=e.is_start)&&i,o.x=null!=(n=e.x)?n:0,o.y=null!=(r=e.y)?r:0,o.z=null!=(a=e.z)?a:0,o}});var f=e("PacCStateChange",{encode:function(e,t){return void 0===t&&(t=new n),0!==e.statble_state&&t.uint32(8).int32(e.statble_state),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a={statble_state:0};i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.statble_state=i.int32();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{statble_state:J(e.statble_state)?globalThis.Number(e.statble_state):0}},toJSON:function(e){var t={};return 0!==e.statble_state&&(t.statble_state=Math.round(e.statble_state)),t},create:function(e){return f.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i={statble_state:0};return i.statble_state=null!=(t=e.statble_state)?t:0,i}});function S(){return{role_id:BigInt("0"),name:"",level:0,statble_states:[],equips:[]}}var m=e("PacRoleBaseInfo",{encode:function(e,i){if(void 0===i&&(i=new n),e.role_id!==BigInt("0")){if(BigInt.asIntN(64,e.role_id)!==e.role_id)throw new globalThis.Error("value provided for field message.role_id of type int64 too large");i.uint32(8).int64(e.role_id)}""!==e.name&&i.uint32(18).string(e.name),0!==e.level&&i.uint32(24).int32(e.level),i.uint32(34).fork();for(var r,a=t(e.statble_states);!(r=a()).done;){var o=r.value;i.int32(o)}i.join(),i.uint32(42).fork();for(var l,s=t(e.equips);!(l=s()).done;){var u=l.value;i.int32(u)}return i.join(),i},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a=S();i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.role_id=i.int64();continue;case 2:if(18!==o)break;a.name=i.string();continue;case 3:if(24!==o)break;a.level=i.int32();continue;case 4:if(32===o){a.statble_states.push(i.int32());continue}if(34===o){for(var l=i.uint32()+i.pos;i.pos<l;)a.statble_states.push(i.int32());continue}break;case 5:if(40===o){a.equips.push(i.int32());continue}if(42===o){for(var s=i.uint32()+i.pos;i.pos<s;)a.equips.push(i.int32());continue}}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{role_id:J(e.role_id)?BigInt(e.role_id):BigInt("0"),name:J(e.name)?globalThis.String(e.name):"",level:J(e.level)?globalThis.Number(e.level):0,statble_states:globalThis.Array.isArray(null==e?void 0:e.statble_states)?e.statble_states.map((function(e){return globalThis.Number(e)})):[],equips:globalThis.Array.isArray(null==e?void 0:e.equips)?e.equips.map((function(e){return globalThis.Number(e)})):[]}},toJSON:function(e){var t,i,n={};return e.role_id!==BigInt("0")&&(n.role_id=e.role_id.toString()),""!==e.name&&(n.name=e.name),0!==e.level&&(n.level=Math.round(e.level)),null!=(t=e.statble_states)&&t.length&&(n.statble_states=e.statble_states.map((function(e){return Math.round(e)}))),null!=(i=e.equips)&&i.length&&(n.equips=e.equips.map((function(e){return Math.round(e)}))),n},create:function(e){return m.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n,r,a,o=S();return o.role_id=null!=(t=e.role_id)?t:BigInt("0"),o.name=null!=(i=e.name)?i:"",o.level=null!=(n=e.level)?n:0,o.statble_states=(null==(r=e.statble_states)?void 0:r.map((function(e){return e})))||[],o.equips=(null==(a=e.equips)?void 0:a.map((function(e){return e})))||[],o}});function p(){return{role_id:BigInt("0"),x:0,y:0,z:0,dx:0,dy:0,dz:0}}var v=e("PacRoleMapInfo",{encode:function(e,t){if(void 0===t&&(t=new n),e.role_id!==BigInt("0")){if(BigInt.asIntN(64,e.role_id)!==e.role_id)throw new globalThis.Error("value provided for field message.role_id of type int64 too large");t.uint32(8).int64(e.role_id)}return 0!==e.x&&t.uint32(21).float(e.x),0!==e.y&&t.uint32(29).float(e.y),0!==e.z&&t.uint32(37).float(e.z),0!==e.dx&&t.uint32(45).float(e.dx),0!==e.dy&&t.uint32(53).float(e.dy),0!==e.dz&&t.uint32(61).float(e.dz),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a=p();i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.role_id=i.int64();continue;case 2:if(21!==o)break;a.x=i.float();continue;case 3:if(29!==o)break;a.y=i.float();continue;case 4:if(37!==o)break;a.z=i.float();continue;case 5:if(45!==o)break;a.dx=i.float();continue;case 6:if(53!==o)break;a.dy=i.float();continue;case 7:if(61!==o)break;a.dz=i.float();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{role_id:J(e.role_id)?BigInt(e.role_id):BigInt("0"),x:J(e.x)?globalThis.Number(e.x):0,y:J(e.y)?globalThis.Number(e.y):0,z:J(e.z)?globalThis.Number(e.z):0,dx:J(e.dx)?globalThis.Number(e.dx):0,dy:J(e.dy)?globalThis.Number(e.dy):0,dz:J(e.dz)?globalThis.Number(e.dz):0}},toJSON:function(e){var t={};return e.role_id!==BigInt("0")&&(t.role_id=e.role_id.toString()),0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),0!==e.dx&&(t.dx=e.dx),0!==e.dy&&(t.dy=e.dy),0!==e.dz&&(t.dz=e.dz),t},create:function(e){return v.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n,r,a,o,l,s=p();return s.role_id=null!=(t=e.role_id)?t:BigInt("0"),s.x=null!=(i=e.x)?i:0,s.y=null!=(n=e.y)?n:0,s.z=null!=(r=e.z)?r:0,s.dx=null!=(a=e.dx)?a:0,s.dy=null!=(o=e.dy)?o:0,s.dz=null!=(l=e.dz)?l:0,s}});function g(){return{role_id:BigInt("0"),hp:0,mp:0,hp_max:0,mp_max:0}}var b=e("PacRoleStateInfo",{encode:function(e,t){if(void 0===t&&(t=new n),e.role_id!==BigInt("0")){if(BigInt.asIntN(64,e.role_id)!==e.role_id)throw new globalThis.Error("value provided for field message.role_id of type int64 too large");t.uint32(8).int64(e.role_id)}return 0!==e.hp&&t.uint32(16).int32(e.hp),0!==e.mp&&t.uint32(24).int32(e.mp),0!==e.hp_max&&t.uint32(32).int32(e.hp_max),0!==e.mp_max&&t.uint32(40).int32(e.mp_max),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a=g();i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.role_id=i.int64();continue;case 2:if(16!==o)break;a.hp=i.int32();continue;case 3:if(24!==o)break;a.mp=i.int32();continue;case 4:if(32!==o)break;a.hp_max=i.int32();continue;case 5:if(40!==o)break;a.mp_max=i.int32();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{role_id:J(e.role_id)?BigInt(e.role_id):BigInt("0"),hp:J(e.hp)?globalThis.Number(e.hp):0,mp:J(e.mp)?globalThis.Number(e.mp):0,hp_max:J(e.hp_max)?globalThis.Number(e.hp_max):0,mp_max:J(e.mp_max)?globalThis.Number(e.mp_max):0}},toJSON:function(e){var t={};return e.role_id!==BigInt("0")&&(t.role_id=e.role_id.toString()),0!==e.hp&&(t.hp=Math.round(e.hp)),0!==e.mp&&(t.mp=Math.round(e.mp)),0!==e.hp_max&&(t.hp_max=Math.round(e.hp_max)),0!==e.mp_max&&(t.mp_max=Math.round(e.mp_max)),t},create:function(e){return b.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n,r,a,o=g();return o.role_id=null!=(t=e.role_id)?t:BigInt("0"),o.hp=null!=(i=e.hp)?i:0,o.mp=null!=(n=e.mp)?n:0,o.hp_max=null!=(r=e.hp_max)?r:0,o.mp_max=null!=(a=e.mp_max)?a:0,o}});function k(){return{role_id:BigInt("0")}}var E=e("PacSBroadcastRoleLeaveGame",{encode:function(e,t){if(void 0===t&&(t=new n),e.role_id!==BigInt("0")){if(BigInt.asIntN(64,e.role_id)!==e.role_id)throw new globalThis.Error("value provided for field message.role_id of type int64 too large");t.uint32(8).int64(e.role_id)}return t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a=k();i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.role_id=i.int64();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{role_id:J(e.role_id)?BigInt(e.role_id):BigInt("0")}},toJSON:function(e){var t={};return e.role_id!==BigInt("0")&&(t.role_id=e.role_id.toString()),t},create:function(e){return E.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i=k();return i.role_id=null!=(t=e.role_id)?t:BigInt("0"),i}});function h(){return{role_id:BigInt("0"),name:"",level:0,x:0,y:0,z:0,dx:0,dy:0,dz:0,hp:0,mp:0,hp_max:0,mp_max:0,statble_states:[],equips:[],skillcds:[]}}var M=e("PacSBroadcastRoleLogin",{encode:function(e,i){if(void 0===i&&(i=new n),e.role_id!==BigInt("0")){if(BigInt.asIntN(64,e.role_id)!==e.role_id)throw new globalThis.Error("value provided for field message.role_id of type int64 too large");i.uint32(8).int64(e.role_id)}""!==e.name&&i.uint32(18).string(e.name),0!==e.level&&i.uint32(24).int32(e.level),0!==e.x&&i.uint32(37).float(e.x),0!==e.y&&i.uint32(45).float(e.y),0!==e.z&&i.uint32(53).float(e.z),0!==e.dx&&i.uint32(61).float(e.dx),0!==e.dy&&i.uint32(69).float(e.dy),0!==e.dz&&i.uint32(77).float(e.dz),0!==e.hp&&i.uint32(80).int32(e.hp),0!==e.mp&&i.uint32(88).int32(e.mp),0!==e.hp_max&&i.uint32(96).int32(e.hp_max),0!==e.mp_max&&i.uint32(104).int32(e.mp_max),i.uint32(114).fork();for(var r,a=t(e.statble_states);!(r=a()).done;){var o=r.value;i.int32(o)}i.join(),i.uint32(122).fork();for(var l,s=t(e.equips);!(l=s()).done;){var u=l.value;i.int32(u)}i.join();for(var _,c=t(e.skillcds);!(_=c()).done;){var d=_.value;P.encode(d,i.uint32(130).fork()).join()}return i},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a=h();i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.role_id=i.int64();continue;case 2:if(18!==o)break;a.name=i.string();continue;case 3:if(24!==o)break;a.level=i.int32();continue;case 4:if(37!==o)break;a.x=i.float();continue;case 5:if(45!==o)break;a.y=i.float();continue;case 6:if(53!==o)break;a.z=i.float();continue;case 7:if(61!==o)break;a.dx=i.float();continue;case 8:if(69!==o)break;a.dy=i.float();continue;case 9:if(77!==o)break;a.dz=i.float();continue;case 10:if(80!==o)break;a.hp=i.int32();continue;case 11:if(88!==o)break;a.mp=i.int32();continue;case 12:if(96!==o)break;a.hp_max=i.int32();continue;case 13:if(104!==o)break;a.mp_max=i.int32();continue;case 14:if(112===o){a.statble_states.push(i.int32());continue}if(114===o){for(var l=i.uint32()+i.pos;i.pos<l;)a.statble_states.push(i.int32());continue}break;case 15:if(120===o){a.equips.push(i.int32());continue}if(122===o){for(var s=i.uint32()+i.pos;i.pos<s;)a.equips.push(i.int32());continue}break;case 16:if(130!==o)break;a.skillcds.push(P.decode(i,i.uint32()));continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{role_id:J(e.role_id)?BigInt(e.role_id):BigInt("0"),name:J(e.name)?globalThis.String(e.name):"",level:J(e.level)?globalThis.Number(e.level):0,x:J(e.x)?globalThis.Number(e.x):0,y:J(e.y)?globalThis.Number(e.y):0,z:J(e.z)?globalThis.Number(e.z):0,dx:J(e.dx)?globalThis.Number(e.dx):0,dy:J(e.dy)?globalThis.Number(e.dy):0,dz:J(e.dz)?globalThis.Number(e.dz):0,hp:J(e.hp)?globalThis.Number(e.hp):0,mp:J(e.mp)?globalThis.Number(e.mp):0,hp_max:J(e.hp_max)?globalThis.Number(e.hp_max):0,mp_max:J(e.mp_max)?globalThis.Number(e.mp_max):0,statble_states:globalThis.Array.isArray(null==e?void 0:e.statble_states)?e.statble_states.map((function(e){return globalThis.Number(e)})):[],equips:globalThis.Array.isArray(null==e?void 0:e.equips)?e.equips.map((function(e){return globalThis.Number(e)})):[],skillcds:globalThis.Array.isArray(null==e?void 0:e.skillcds)?e.skillcds.map((function(e){return P.fromJSON(e)})):[]}},toJSON:function(e){var t,i,n,r={};return e.role_id!==BigInt("0")&&(r.role_id=e.role_id.toString()),""!==e.name&&(r.name=e.name),0!==e.level&&(r.level=Math.round(e.level)),0!==e.x&&(r.x=e.x),0!==e.y&&(r.y=e.y),0!==e.z&&(r.z=e.z),0!==e.dx&&(r.dx=e.dx),0!==e.dy&&(r.dy=e.dy),0!==e.dz&&(r.dz=e.dz),0!==e.hp&&(r.hp=Math.round(e.hp)),0!==e.mp&&(r.mp=Math.round(e.mp)),0!==e.hp_max&&(r.hp_max=Math.round(e.hp_max)),0!==e.mp_max&&(r.mp_max=Math.round(e.mp_max)),null!=(t=e.statble_states)&&t.length&&(r.statble_states=e.statble_states.map((function(e){return Math.round(e)}))),null!=(i=e.equips)&&i.length&&(r.equips=e.equips.map((function(e){return Math.round(e)}))),null!=(n=e.skillcds)&&n.length&&(r.skillcds=e.skillcds.map((function(e){return P.toJSON(e)}))),r},create:function(e){return M.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n,r,a,o,l,s,u,_,c,d,f,S,m,p,v=h();return v.role_id=null!=(t=e.role_id)?t:BigInt("0"),v.name=null!=(i=e.name)?i:"",v.level=null!=(n=e.level)?n:0,v.x=null!=(r=e.x)?r:0,v.y=null!=(a=e.y)?a:0,v.z=null!=(o=e.z)?o:0,v.dx=null!=(l=e.dx)?l:0,v.dy=null!=(s=e.dy)?s:0,v.dz=null!=(u=e.dz)?u:0,v.hp=null!=(_=e.hp)?_:0,v.mp=null!=(c=e.mp)?c:0,v.hp_max=null!=(d=e.hp_max)?d:0,v.mp_max=null!=(f=e.mp_max)?f:0,v.statble_states=(null==(S=e.statble_states)?void 0:S.map((function(e){return e})))||[],v.equips=(null==(m=e.equips)?void 0:m.map((function(e){return e})))||[],v.skillcds=(null==(p=e.skillcds)?void 0:p.map((function(e){return P.fromPartial(e)})))||[],v}});function I(){return{role_id:BigInt("0"),x:0,y:0,z:0,dx:0,dy:0,dz:0}}var N=e("PacSBroadcastSkill",{encode:function(e,t){if(void 0===t&&(t=new n),e.role_id!==BigInt("0")){if(BigInt.asIntN(64,e.role_id)!==e.role_id)throw new globalThis.Error("value provided for field message.role_id of type int64 too large");t.uint32(8).int64(e.role_id)}return 0!==e.x&&t.uint32(21).float(e.x),0!==e.y&&t.uint32(29).float(e.y),0!==e.z&&t.uint32(37).float(e.z),0!==e.dx&&t.uint32(45).float(e.dx),0!==e.dy&&t.uint32(53).float(e.dy),0!==e.dz&&t.uint32(61).float(e.dz),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a=I();i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.role_id=i.int64();continue;case 2:if(21!==o)break;a.x=i.float();continue;case 3:if(29!==o)break;a.y=i.float();continue;case 4:if(37!==o)break;a.z=i.float();continue;case 5:if(45!==o)break;a.dx=i.float();continue;case 6:if(53!==o)break;a.dy=i.float();continue;case 7:if(61!==o)break;a.dz=i.float();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{role_id:J(e.role_id)?BigInt(e.role_id):BigInt("0"),x:J(e.x)?globalThis.Number(e.x):0,y:J(e.y)?globalThis.Number(e.y):0,z:J(e.z)?globalThis.Number(e.z):0,dx:J(e.dx)?globalThis.Number(e.dx):0,dy:J(e.dy)?globalThis.Number(e.dy):0,dz:J(e.dz)?globalThis.Number(e.dz):0}},toJSON:function(e){var t={};return e.role_id!==BigInt("0")&&(t.role_id=e.role_id.toString()),0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),0!==e.dx&&(t.dx=e.dx),0!==e.dy&&(t.dy=e.dy),0!==e.dz&&(t.dz=e.dz),t},create:function(e){return N.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n,r,a,o,l,s=I();return s.role_id=null!=(t=e.role_id)?t:BigInt("0"),s.x=null!=(i=e.x)?i:0,s.y=null!=(n=e.y)?n:0,s.z=null!=(r=e.z)?r:0,s.dx=null!=(a=e.dx)?a:0,s.dy=null!=(o=e.dy)?o:0,s.dz=null!=(l=e.dz)?l:0,s}});function O(){return{role_id:BigInt("0"),statble_state:0}}var T=e("PacSBroadcastStateChange",{encode:function(e,t){if(void 0===t&&(t=new n),e.role_id!==BigInt("0")){if(BigInt.asIntN(64,e.role_id)!==e.role_id)throw new globalThis.Error("value provided for field message.role_id of type int64 too large");t.uint32(8).int64(e.role_id)}return 0!==e.statble_state&&t.uint32(16).int32(e.statble_state),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a=O();i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.role_id=i.int64();continue;case 2:if(16!==o)break;a.statble_state=i.int32();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{role_id:J(e.role_id)?BigInt(e.role_id):BigInt("0"),statble_state:J(e.statble_state)?globalThis.Number(e.statble_state):0}},toJSON:function(e){var t={};return e.role_id!==BigInt("0")&&(t.role_id=e.role_id.toString()),0!==e.statble_state&&(t.statble_state=Math.round(e.statble_state)),t},create:function(e){return T.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n=O();return n.role_id=null!=(t=e.role_id)?t:BigInt("0"),n.statble_state=null!=(i=e.statble_state)?i:0,n}});var P=e("PacSkillCDLeft",{encode:function(e,t){return void 0===t&&(t=new n),0!==e.skill_id&&t.uint32(8).int32(e.skill_id),0!==e.stage&&t.uint32(16).int32(e.stage),0!==e.left&&t.uint32(24).int32(e.left),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a={skill_id:0,stage:0,left:0};i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.skill_id=i.int32();continue;case 2:if(16!==o)break;a.stage=i.int32();continue;case 3:if(24!==o)break;a.left=i.int32();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{skill_id:J(e.skill_id)?globalThis.Number(e.skill_id):0,stage:J(e.stage)?globalThis.Number(e.stage):0,left:J(e.left)?globalThis.Number(e.left):0}},toJSON:function(e){var t={};return 0!==e.skill_id&&(t.skill_id=Math.round(e.skill_id)),0!==e.stage&&(t.stage=Math.round(e.stage)),0!==e.left&&(t.left=Math.round(e.left)),t},create:function(e){return P.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n,r={skill_id:0,stage:0,left:0};return r.skill_id=null!=(t=e.skill_id)?t:0,r.stage=null!=(i=e.stage)?i:0,r.left=null!=(n=e.left)?n:0,r}});var R=e("PacSRoleBaseInfos",{encode:function(e,i){void 0===i&&(i=new n);for(var r,a=t(e.role_bases);!(r=a()).done;){var o=r.value;m.encode(o,i.uint32(10).fork()).join()}return i},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a={role_bases:[]};i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(10!==o)break;a.role_bases.push(m.decode(i,i.uint32()));continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{role_bases:globalThis.Array.isArray(null==e?void 0:e.role_bases)?e.role_bases.map((function(e){return m.fromJSON(e)})):[]}},toJSON:function(e){var t,i={};return null!=(t=e.role_bases)&&t.length&&(i.role_bases=e.role_bases.map((function(e){return m.toJSON(e)}))),i},create:function(e){return R.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i={role_bases:[]};return i.role_bases=(null==(t=e.role_bases)?void 0:t.map((function(e){return m.fromPartial(e)})))||[],i}});function x(){return{account_id:BigInt("0"),role_id:BigInt("0"),name:"",level:0,x:0,y:0,z:0,dx:0,dy:0,dz:0,hp:0,mp:0,hp_max:0,mp_max:0,statble_states:[],skills:[],equips:[],skillcds:[]}}var A=e("PacSRoleLogin",{encode:function(e,i){if(void 0===i&&(i=new n),e.account_id!==BigInt("0")){if(BigInt.asIntN(64,e.account_id)!==e.account_id)throw new globalThis.Error("value provided for field message.account_id of type int64 too large");i.uint32(8).int64(e.account_id)}if(e.role_id!==BigInt("0")){if(BigInt.asIntN(64,e.role_id)!==e.role_id)throw new globalThis.Error("value provided for field message.role_id of type int64 too large");i.uint32(16).int64(e.role_id)}""!==e.name&&i.uint32(26).string(e.name),0!==e.level&&i.uint32(32).int32(e.level),0!==e.x&&i.uint32(45).float(e.x),0!==e.y&&i.uint32(53).float(e.y),0!==e.z&&i.uint32(61).float(e.z),0!==e.dx&&i.uint32(69).float(e.dx),0!==e.dy&&i.uint32(77).float(e.dy),0!==e.dz&&i.uint32(85).float(e.dz),0!==e.hp&&i.uint32(88).int32(e.hp),0!==e.mp&&i.uint32(96).int32(e.mp),0!==e.hp_max&&i.uint32(104).int32(e.hp_max),0!==e.mp_max&&i.uint32(112).int32(e.mp_max),i.uint32(122).fork();for(var r,a=t(e.statble_states);!(r=a()).done;){var o=r.value;i.int32(o)}i.join(),i.uint32(130).fork();for(var l,s=t(e.skills);!(l=s()).done;){var u=l.value;i.int32(u)}i.join(),i.uint32(138).fork();for(var _,c=t(e.equips);!(_=c()).done;){var d=_.value;i.int32(d)}i.join();for(var f,S=t(e.skillcds);!(f=S()).done;){var m=f.value;P.encode(m,i.uint32(146).fork()).join()}return i},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a=x();i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.account_id=i.int64();continue;case 2:if(16!==o)break;a.role_id=i.int64();continue;case 3:if(26!==o)break;a.name=i.string();continue;case 4:if(32!==o)break;a.level=i.int32();continue;case 5:if(45!==o)break;a.x=i.float();continue;case 6:if(53!==o)break;a.y=i.float();continue;case 7:if(61!==o)break;a.z=i.float();continue;case 8:if(69!==o)break;a.dx=i.float();continue;case 9:if(77!==o)break;a.dy=i.float();continue;case 10:if(85!==o)break;a.dz=i.float();continue;case 11:if(88!==o)break;a.hp=i.int32();continue;case 12:if(96!==o)break;a.mp=i.int32();continue;case 13:if(104!==o)break;a.hp_max=i.int32();continue;case 14:if(112!==o)break;a.mp_max=i.int32();continue;case 15:if(120===o){a.statble_states.push(i.int32());continue}if(122===o){for(var l=i.uint32()+i.pos;i.pos<l;)a.statble_states.push(i.int32());continue}break;case 16:if(128===o){a.skills.push(i.int32());continue}if(130===o){for(var s=i.uint32()+i.pos;i.pos<s;)a.skills.push(i.int32());continue}break;case 17:if(136===o){a.equips.push(i.int32());continue}if(138===o){for(var u=i.uint32()+i.pos;i.pos<u;)a.equips.push(i.int32());continue}break;case 18:if(146!==o)break;a.skillcds.push(P.decode(i,i.uint32()));continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{account_id:J(e.account_id)?BigInt(e.account_id):BigInt("0"),role_id:J(e.role_id)?BigInt(e.role_id):BigInt("0"),name:J(e.name)?globalThis.String(e.name):"",level:J(e.level)?globalThis.Number(e.level):0,x:J(e.x)?globalThis.Number(e.x):0,y:J(e.y)?globalThis.Number(e.y):0,z:J(e.z)?globalThis.Number(e.z):0,dx:J(e.dx)?globalThis.Number(e.dx):0,dy:J(e.dy)?globalThis.Number(e.dy):0,dz:J(e.dz)?globalThis.Number(e.dz):0,hp:J(e.hp)?globalThis.Number(e.hp):0,mp:J(e.mp)?globalThis.Number(e.mp):0,hp_max:J(e.hp_max)?globalThis.Number(e.hp_max):0,mp_max:J(e.mp_max)?globalThis.Number(e.mp_max):0,statble_states:globalThis.Array.isArray(null==e?void 0:e.statble_states)?e.statble_states.map((function(e){return globalThis.Number(e)})):[],skills:globalThis.Array.isArray(null==e?void 0:e.skills)?e.skills.map((function(e){return globalThis.Number(e)})):[],equips:globalThis.Array.isArray(null==e?void 0:e.equips)?e.equips.map((function(e){return globalThis.Number(e)})):[],skillcds:globalThis.Array.isArray(null==e?void 0:e.skillcds)?e.skillcds.map((function(e){return P.fromJSON(e)})):[]}},toJSON:function(e){var t,i,n,r,a={};return e.account_id!==BigInt("0")&&(a.account_id=e.account_id.toString()),e.role_id!==BigInt("0")&&(a.role_id=e.role_id.toString()),""!==e.name&&(a.name=e.name),0!==e.level&&(a.level=Math.round(e.level)),0!==e.x&&(a.x=e.x),0!==e.y&&(a.y=e.y),0!==e.z&&(a.z=e.z),0!==e.dx&&(a.dx=e.dx),0!==e.dy&&(a.dy=e.dy),0!==e.dz&&(a.dz=e.dz),0!==e.hp&&(a.hp=Math.round(e.hp)),0!==e.mp&&(a.mp=Math.round(e.mp)),0!==e.hp_max&&(a.hp_max=Math.round(e.hp_max)),0!==e.mp_max&&(a.mp_max=Math.round(e.mp_max)),null!=(t=e.statble_states)&&t.length&&(a.statble_states=e.statble_states.map((function(e){return Math.round(e)}))),null!=(i=e.skills)&&i.length&&(a.skills=e.skills.map((function(e){return Math.round(e)}))),null!=(n=e.equips)&&n.length&&(a.equips=e.equips.map((function(e){return Math.round(e)}))),null!=(r=e.skillcds)&&r.length&&(a.skillcds=e.skillcds.map((function(e){return P.toJSON(e)}))),a},create:function(e){return A.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n,r,a,o,l,s,u,_,c,d,f,S,m,p,v,g,b=x();return b.account_id=null!=(t=e.account_id)?t:BigInt("0"),b.role_id=null!=(i=e.role_id)?i:BigInt("0"),b.name=null!=(n=e.name)?n:"",b.level=null!=(r=e.level)?r:0,b.x=null!=(a=e.x)?a:0,b.y=null!=(o=e.y)?o:0,b.z=null!=(l=e.z)?l:0,b.dx=null!=(s=e.dx)?s:0,b.dy=null!=(u=e.dy)?u:0,b.dz=null!=(_=e.dz)?_:0,b.hp=null!=(c=e.hp)?c:0,b.mp=null!=(d=e.mp)?d:0,b.hp_max=null!=(f=e.hp_max)?f:0,b.mp_max=null!=(S=e.mp_max)?S:0,b.statble_states=(null==(m=e.statble_states)?void 0:m.map((function(e){return e})))||[],b.skills=(null==(p=e.skills)?void 0:p.map((function(e){return e})))||[],b.equips=(null==(v=e.equips)?void 0:v.map((function(e){return e})))||[],b.skillcds=(null==(g=e.skillcds)?void 0:g.map((function(e){return P.fromPartial(e)})))||[],b}});var L=e("PacSRoleMapInfos",{encode:function(e,i){void 0===i&&(i=new n);for(var r,a=t(e.role_poses);!(r=a()).done;){var o=r.value;v.encode(o,i.uint32(10).fork()).join()}return i},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a={role_poses:[]};i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(10!==o)break;a.role_poses.push(v.decode(i,i.uint32()));continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{role_poses:globalThis.Array.isArray(null==e?void 0:e.role_poses)?e.role_poses.map((function(e){return v.fromJSON(e)})):[]}},toJSON:function(e){var t,i={};return null!=(t=e.role_poses)&&t.length&&(i.role_poses=e.role_poses.map((function(e){return v.toJSON(e)}))),i},create:function(e){return L.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i={role_poses:[]};return i.role_poses=(null==(t=e.role_poses)?void 0:t.map((function(e){return v.fromPartial(e)})))||[],i}});var y=e("PacSRoleStateInfos",{encode:function(e,i){void 0===i&&(i=new n);for(var r,a=t(e.role_states);!(r=a()).done;){var o=r.value;b.encode(o,i.uint32(10).fork()).join()}return i},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a={role_states:[]};i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(10!==o)break;a.role_states.push(b.decode(i,i.uint32()));continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{role_states:globalThis.Array.isArray(null==e?void 0:e.role_states)?e.role_states.map((function(e){return b.fromJSON(e)})):[]}},toJSON:function(e){var t,i={};return null!=(t=e.role_states)&&t.length&&(i.role_states=e.role_states.map((function(e){return b.toJSON(e)}))),i},create:function(e){return y.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i={role_states:[]};return i.role_states=(null==(t=e.role_states)?void 0:t.map((function(e){return b.fromPartial(e)})))||[],i}});var D=e("PacSSkillPacket",{encode:function(e,t){return void 0===t&&(t=new n),void 0!==e.SMove&&C.encode(e.SMove,t.uint32(10).fork()).join(),void 0!==e.SSkillStateFailed&&G.encode(e.SSkillStateFailed,t.uint32(18).fork()).join(),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a={SMove:void 0,SSkillStateFailed:void 0};i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(10!==o)break;a.SMove=C.decode(i,i.uint32());continue;case 2:if(18!==o)break;a.SSkillStateFailed=G.decode(i,i.uint32());continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{SMove:J(e.SMove)?C.fromJSON(e.SMove):void 0,SSkillStateFailed:J(e.SSkillStateFailed)?G.fromJSON(e.SSkillStateFailed):void 0}},toJSON:function(e){var t={};return void 0!==e.SMove&&(t.SMove=C.toJSON(e.SMove)),void 0!==e.SSkillStateFailed&&(t.SSkillStateFailed=G.toJSON(e.SSkillStateFailed)),t},create:function(e){return D.fromPartial(null!=e?e:{})},fromPartial:function(e){var t={SMove:void 0,SSkillStateFailed:void 0};return t.SMove=void 0!==e.SMove&&null!==e.SMove?C.fromPartial(e.SMove):void 0,t.SSkillStateFailed=void 0!==e.SSkillStateFailed&&null!==e.SSkillStateFailed?G.fromPartial(e.SSkillStateFailed):void 0,t}});var C=e("PacSMove",{encode:function(e,t){return void 0===t&&(t=new n),0!==e.skill_id&&t.uint32(8).int32(e.skill_id),0!==e.ret_code&&t.uint32(16).int32(e.ret_code),0!==e.x&&t.uint32(29).float(e.x),0!==e.y&&t.uint32(37).float(e.y),0!==e.z&&t.uint32(45).float(e.z),0!==e.dx&&t.uint32(53).float(e.dx),0!==e.dy&&t.uint32(61).float(e.dy),0!==e.dz&&t.uint32(69).float(e.dz),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a={skill_id:0,ret_code:0,x:0,y:0,z:0,dx:0,dy:0,dz:0};i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.skill_id=i.int32();continue;case 2:if(16!==o)break;a.ret_code=i.int32();continue;case 3:if(29!==o)break;a.x=i.float();continue;case 4:if(37!==o)break;a.y=i.float();continue;case 5:if(45!==o)break;a.z=i.float();continue;case 6:if(53!==o)break;a.dx=i.float();continue;case 7:if(61!==o)break;a.dy=i.float();continue;case 8:if(69!==o)break;a.dz=i.float();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{skill_id:J(e.skill_id)?globalThis.Number(e.skill_id):0,ret_code:J(e.ret_code)?globalThis.Number(e.ret_code):0,x:J(e.x)?globalThis.Number(e.x):0,y:J(e.y)?globalThis.Number(e.y):0,z:J(e.z)?globalThis.Number(e.z):0,dx:J(e.dx)?globalThis.Number(e.dx):0,dy:J(e.dy)?globalThis.Number(e.dy):0,dz:J(e.dz)?globalThis.Number(e.dz):0}},toJSON:function(e){var t={};return 0!==e.skill_id&&(t.skill_id=Math.round(e.skill_id)),0!==e.ret_code&&(t.ret_code=Math.round(e.ret_code)),0!==e.x&&(t.x=e.x),0!==e.y&&(t.y=e.y),0!==e.z&&(t.z=e.z),0!==e.dx&&(t.dx=e.dx),0!==e.dy&&(t.dy=e.dy),0!==e.dz&&(t.dz=e.dz),t},create:function(e){return C.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n,r,a,o,l,s,u={skill_id:0,ret_code:0,x:0,y:0,z:0,dx:0,dy:0,dz:0};return u.skill_id=null!=(t=e.skill_id)?t:0,u.ret_code=null!=(i=e.ret_code)?i:0,u.x=null!=(n=e.x)?n:0,u.y=null!=(r=e.y)?r:0,u.z=null!=(a=e.z)?a:0,u.dx=null!=(o=e.dx)?o:0,u.dy=null!=(l=e.dy)?l:0,u.dz=null!=(s=e.dz)?s:0,u}});var G=e("PacSSkillStateFailed",{encode:function(e,t){return void 0===t&&(t=new n),0!==e.skill_id&&t.uint32(8).int32(e.skill_id),0!==e.ret_code&&t.uint32(16).int32(e.ret_code),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a={skill_id:0,ret_code:0};i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.skill_id=i.int32();continue;case 2:if(16!==o)break;a.ret_code=i.int32();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{skill_id:J(e.skill_id)?globalThis.Number(e.skill_id):0,ret_code:J(e.ret_code)?globalThis.Number(e.ret_code):0}},toJSON:function(e){var t={};return 0!==e.skill_id&&(t.skill_id=Math.round(e.skill_id)),0!==e.ret_code&&(t.ret_code=Math.round(e.ret_code)),t},create:function(e){return G.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i,n={skill_id:0,ret_code:0};return n.skill_id=null!=(t=e.skill_id)?t:0,n.ret_code=null!=(i=e.ret_code)?i:0,n}});var B=e("PacSStateChangeFailed",{encode:function(e,t){return void 0===t&&(t=new n),0!==e.ret_code&&t.uint32(8).int32(e.ret_code),t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a={ret_code:0};i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.ret_code=i.int32();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{ret_code:J(e.ret_code)?globalThis.Number(e.ret_code):0}},toJSON:function(e){var t={};return 0!==e.ret_code&&(t.ret_code=Math.round(e.ret_code)),t},create:function(e){return B.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i={ret_code:0};return i.ret_code=null!=(t=e.ret_code)?t:0,i}});function z(){return{role_id:BigInt("0")}}var w=e("SevRoleLostConnect",{encode:function(e,t){if(void 0===t&&(t=new n),e.role_id!==BigInt("0")){if(BigInt.asIntN(64,e.role_id)!==e.role_id)throw new globalThis.Error("value provided for field message.role_id of type int64 too large");t.uint32(8).int64(e.role_id)}return t},decode:function(e,t){for(var i=e instanceof r?e:new r(e),n=void 0===t?i.len:i.pos+t,a=z();i.pos<n;){var o=i.uint32();switch(o>>>3){case 1:if(8!==o)break;a.role_id=i.int64();continue}if(4==(7&o)||0===o)break;i.skip(7&o)}return a},fromJSON:function(e){return{role_id:J(e.role_id)?BigInt(e.role_id):BigInt("0")}},toJSON:function(e){var t={};return e.role_id!==BigInt("0")&&(t.role_id=e.role_id.toString()),t},create:function(e){return w.fromPartial(null!=e?e:{})},fromPartial:function(e){var t,i=z();return i.role_id=null!=(t=e.role_id)?t:BigInt("0"),i}});function J(e){return null!=e}i._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NetworkManager.ts","./Label3D.ts","./pb_client.ts"],(function(t){var e,i,o,a,n,r,s,h,l,c,_,d,p,u,f,m,g,v,y,S,E,P,w,C,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,r=t._decorator,s=t.Prefab,h=t.Node,l=t.Vec3,c=t.Quat,_=t.input,d=t.Input,p=t.director,u=t.instantiate,f=t.Animation,m=t.Tween,g=t.tween,v=t.KeyCode,y=t.EventMouse,S=t.math,E=t.Component},function(t){P=t.NetworkManager},function(t){w=t.Label3D},function(t){C=t.PacCSkillPacket,b=t.PacMsgID}],execute:function(){var k,T,K,M,R,D,L,N,Y,I,O,U,A,z;n._RF.push({},"637df8m5n1H6p2sjq3MAni3","PlayerControl",void 0);var Q=r.ccclass,W=r.property;t("PlayerControl",(k=Q("PlayerControl"),T=W({type:s}),K=W({type:h}),M=W({type:s}),k((L=e((D=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._lastPosition=new l,e._lastRotation=new c,o(e,"characterPrefab",L,a(e)),o(e,"cameraNode",N,a(e)),o(e,"moveSpeed",Y,a(e)),o(e,"rotateSpeed",I,a(e)),o(e,"lookSpeed",O,a(e)),o(e,"maxPitch",U,a(e)),o(e,"minPitch",A,a(e)),o(e,"labelPrefab",z,a(e)),e._character=null,e._keyStates=new Map,e._otherPlayerLastUpdateTime=new Map,e.IDLE_TIMEOUT=500,e.SYNC_THRESHOLD_SQ=.16,e._accumulator=0,e._fixedTimestep=1/60,e._isLoggedIn=!1,e._animationComponent=null,e._dl=null,e._isMoving=!1,e._camera_local=new l(0,.15,-.25),e._cameraPivot=void 0,e._other_role=new Map,e._pendingPosition=null,e._pendingRotation=null,e._turnCameraEnabled=!1,e._turnRolerEnabled=!1,e._role_dir=new l,e}i(e,t);var n=e.prototype;return n.onLoad=function(){_.on(d.EventType.MOUSE_DOWN,this.onMouseDown,this),_.on(d.EventType.MOUSE_UP,this.onMouseUp,this),_.on(d.EventType.MOUSE_MOVE,this.onMouseMove,this),_.on(d.EventType.KEY_DOWN,this.onKeyDown,this),_.on(d.EventType.KEY_PRESSING,this.onKeyPressing,this),_.on(d.EventType.KEY_UP,this.onKeyUp,this);var t=p.getScene();t?(t.on("transform-invalid",this.onTransformInvalid,this),t.on("skill-state-invalid",this.onTransformInvalidState,this),t.on("scene-login-success",this.onLoginSuccess,this),t.on("other-login-success",this.onOtherLoginSuccess,this),t.on("other-move",this.onOtherMove,this),t.on("other-leave",this.onOtherLeave,this),t.on("other-infos",this.onOtherInfos,this)):console.error("场景尚未加载")},n.onOtherInfos=function(t){var e=this;t.forEach((function(t){var i=Number(t.role_id);if(!isNaN(i)&&i.toString()!==P.instance.rid&&!e._other_role.has(i)){var o=u(e.characterPrefab);if(o){var a;o.scale=new l(10,10,10),e._other_role.set(i,o),e._otherPlayerLastUpdateTime.set(i,Date.now()),o.setPosition(new l(t.x,t.y,t.z)),e.node.addChild(o);var n=u(e.labelPrefab);if(n){n.position=new l(0,.07,0),n.scale=new l(.01,.01,.01);var r=n.getComponent(w);r&&(r.string=i.toString()),o.addChild(n)}var s=o.getComponent(f);null==s||null==(a=s.getState("idle"))||a.play()}}}))},n.onOtherLeave=function(t){var e=Number(t);if(!isNaN(e)){var i=this._other_role.get(e);i&&(this.node.removeChild(i),this._other_role.delete(e),this._otherPlayerLastUpdateTime.delete(e))}},n.onOtherLoginSuccess=function(t,e,i){var o,a=Number(t);if(!isNaN(a)&&a.toString()!==P.instance.rid&&!this._other_role.has(a)){var n=u(this.characterPrefab);if(n){n.scale=new l(10,10,10),this._other_role.set(a,n),this._otherPlayerLastUpdateTime.set(a,Date.now()),n.setPosition(e),this.node.addChild(n);var r=u(this.labelPrefab);if(r){r.position=new l(0,.07,0),r.scale=new l(.01,.01,.01);var s=r.getComponent(w);s&&(s.string=a.toString()),n.addChild(r)}var h=n.getComponent(f);null==h||null==(o=h.getState("idle"))||o.play()}}},n.onOtherMove=function(t,e,i){var o=Number(t);if(!isNaN(o))if(o.toString()==P.instance.rid){if(this._character){var a=e,n=this._character.position,r=l.squaredDistance(a,n);r>this.SYNC_THRESHOLD_SQ&&(console.log("[Sync] Correcting local player position smoothly. Server: "+a+", Client: "+n+", DistSq: "+r),m.stopAllByTarget(this._character),g(this._character).to(.1,{position:a.clone()},{easing:"linear"}).start());var s=new c;c.fromViewUp(s,i,l.UP),this._character.rotation=s}}else{var h=this._other_role.get(o);if(h){this._otherPlayerLastUpdateTime.set(o,Date.now());var _=new c;c.fromViewUp(_,i,l.UP),h.rotation=_,m.stopAllByTarget(h),g(h).to(.1,{position:e.clone()},{easing:"linear"}).start();var d=h.getComponent(f),p=null==d?void 0:d.getState("run");p&&!p.isPlaying&&(p.repeatCount=1/0,p.play())}}},n.onLoginSuccess=function(t,e){var i,o;if(this._character=u(this.characterPrefab),this._character){this._character.scale=new l(10,10,10);var a=new c;c.fromViewUp(a,e,l.UP),this._character.rotation=a,this._character.setPosition(t),this.node.addChild(this._character);var n=u(this.labelPrefab);n&&(n.position=new l(0,.07,0),n.scale=new l(.01,.01,.01),this._dl=n.getComponent(w),this._dl&&(this._dl.string=P.instance.rid),this._character.addChild(n)),this._cameraPivot=null==(i=this.cameraNode)?void 0:i.parent,this._cameraPivot&&this._character&&this._character.addChild(this._cameraPivot),this.cameraNode&&this._character&&(this.cameraNode.position=this._camera_local,this.cameraNode.lookAt(this._character.position)),this._animationComponent=this._character.getComponent(f),null==(o=this._animationComponent)||null==(o=o.getState("idle"))||o.play(),this._isLoggedIn=!0}},n.onDestroy=function(){_.off(d.EventType.MOUSE_UP,this.onMouseUp,this),_.off(d.EventType.MOUSE_DOWN,this.onMouseDown,this),_.off(d.EventType.MOUSE_MOVE,this.onMouseMove,this),_.off(d.EventType.KEY_DOWN,this.onKeyDown,this),_.off(d.EventType.KEY_PRESSING,this.onKeyPressing,this),_.off(d.EventType.KEY_UP,this.onKeyUp,this);var t=p.getScene();t&&(t.off("transform-invalid",this.onTransformInvalid,this),t.off("skill-state-invalid",this.onTransformInvalidState,this),t.off("scene-login-success",this.onLoginSuccess,this),t.off("other-login-success",this.onOtherLoginSuccess,this),t.off("other-move",this.onOtherMove,this),t.off("other-leave",this.onOtherLeave,this),t.off("other-infos",this.onOtherInfos,this))},n.onKeyDown=function(t){switch(t.keyCode){case v.SPACE:if(this._keyStates.set(t.keyCode,!0),this._animationComponent&&!this._animationComponent.getState("jump").isPlaying){var e=this._animationComponent.getState("jump");e.repeatCount=1,e.play()}break;case v.KEY_W:case v.KEY_S:case v.KEY_A:case v.KEY_D:var i,o=0;if(t.keyCode==v.KEY_W?o=1001:t.keyCode==v.KEY_S?o=1002:t.keyCode==v.KEY_A?o=1003:t.keyCode==v.KEY_D&&(o=1004),!0!==this._keyStates.get(t.keyCode)&&(this._keyStates.set(t.keyCode,!0),this._character)){var a=C.create({CMove:{skill_id:o,is_start:!0}}),n=C.encode(a).finish();P.instance.send(b.PacMsgID_MSG_ROLE_SKILL_REQ,n),console.log("[KeyDown] Sent SKILL_REQ (Start Move, skill_id: "+o+")")}if(!this._isMoving)this._isMoving=!0,null==(i=this._animationComponent)||null==(i=i.getState("run"))||i.play()}},n.onKeyPressing=function(t){},n.onKeyUp=function(t){switch(t.keyCode){case v.SPACE:this._keyStates.set(t.keyCode,!1);break;case v.KEY_W:case v.KEY_S:case v.KEY_A:case v.KEY_D:var e=0;if(t.keyCode==v.KEY_W?e=1001:t.keyCode==v.KEY_S?e=1002:t.keyCode==v.KEY_A?e=1003:t.keyCode==v.KEY_D&&(e=1004),e>0&&(this._keyStates.set(t.keyCode,!1),this._character)){var i=C.create({CMove:{skill_id:e,is_start:!1}}),o=C.encode(i).finish();P.instance.send(b.PacMsgID_MSG_ROLE_SKILL_REQ,o),console.log("[KeyUp] Sent SKILL_REQ (Stop Move, skill_id: "+e+")")}for(var a,n,r=!1,s=0,h=[v.KEY_W,v.KEY_S,v.KEY_A,v.KEY_D];s<h.length;s++){var l=h[s];if(!0===this._keyStates.get(l)){r=!0;break}}if(!r&&this._isMoving)this._isMoving=!1,null==(a=this._animationComponent)||null==(a=a.getState("run"))||a.stop(),null==(n=this._animationComponent)||null==(n=n.getState("idle"))||n.play(),console.log("[KeyUp] Animation switched to idle."),this._character&&(m.stopAllByTarget(this._character),console.log("[KeyUp] Stopped character position tweens."))}},n.update=function(t){var e=this;if(this._isLoggedIn){var i=Date.now();this._other_role.forEach((function(t,o){var a=e._otherPlayerLastUpdateTime.get(o);if(a&&i-a>e.IDLE_TIMEOUT){var n=t.getComponent(f);if(n){var r=n.getState("run"),s=n.getState("idle");null!=r&&r.isPlaying&&(r.stop(),null==s||s.play())}}}))}if(this._character)for(this._accumulator+=t;this._accumulator>=this._fixedTimestep;){var o=0,a=0;if(this._keyStates.get(v.KEY_W)&&(a-=1),this._keyStates.get(v.KEY_S)&&(a+=1),this._keyStates.get(v.KEY_A)&&(o+=1),this._keyStates.get(v.KEY_D)&&(o-=1),0!==a||0!==o){var n=l.transformQuat(new l,l.FORWARD,this._character.rotation).normalize(),r=l.transformQuat(new l,l.RIGHT,this._character.rotation).normalize(),s=l.scaleAndAdd(new l,l.ZERO,n,a).add(l.scaleAndAdd(new l,l.ZERO,r,o)).normalize().multiplyScalar(this._fixedTimestep*this.moveSpeed);this._character.position=this._character.position.add(s),this._pendingPosition=this._character.position.clone(),this._pendingRotation=this._character.rotation.clone()}this._accumulator-=this._fixedTimestep}},n.onTransformInvalidState=function(t){this._character&&(console.log("状态不对 "+this._pendingPosition),this._keyStates.set(v.KEY_W,!1),this._keyStates.set(v.KEY_S,!1),this._keyStates.set(v.KEY_A,!1),this._keyStates.set(v.KEY_D,!1),this._pendingPosition&&(this._character.position=this._pendingPosition,this._lastPosition=this._pendingPosition.clone()),this._pendingRotation&&(this._character.rotation=this._pendingRotation,this._lastRotation=this._pendingRotation.clone()),this._dl&&(this._dl.string=this._character.position.toString()),this._pendingPosition=null,this._pendingRotation=null)},n.onTransformInvalid=function(t,e){if(this._character){console.log("无效运动 "+t),this._keyStates.set(v.KEY_W,!1),this._keyStates.set(v.KEY_S,!1),this._keyStates.set(v.KEY_A,!1),this._keyStates.set(v.KEY_D,!1),this._character.position=t;var i=new l;if(c.toEuler(i,this._lastRotation),i.length()<1e-5&&(console.log("onTransformInvalid 欧拉角接近 0 度"),c.fromAxisAngle(this._lastRotation,l.UP,0)),e&&e.lengthSqr()>1e-4){var o=new c;c.fromViewUp(o,e,l.UP),this._character.rotation=o,this._lastRotation=o.clone()}else console.warn("onTransformInvalid received invalid direction from server, using last known rotation."),this._character.rotation=this._lastRotation;this._pendingPosition=null,this._pendingRotation=null}},n.onMouseDown=function(t){switch(t.getButton()){case y.BUTTON_LEFT:this._turnCameraEnabled=!0;break;case y.BUTTON_RIGHT:this._turnRolerEnabled=!0}},n.onMouseUp=function(t){if(this._character&&this.cameraNode&&this._cameraPivot)switch(t.getButton()){case y.BUTTON_LEFT:this._turnCameraEnabled=!1,this._cameraPivot.rotation=new c,this.cameraNode.position=this._camera_local.clone(),this.cameraNode.lookAt(this._character.position);break;case y.BUTTON_RIGHT:if(this._turnRolerEnabled=!1,this._role_dir){var e=C.create({CRotate:{skill_id:1005,is_start:!1,x:this._role_dir.x,y:this._role_dir.y,z:this._role_dir.z}}),i=C.encode(e).finish();P.instance.send(b.PacMsgID_MSG_ROLE_SKILL_REQ,i),console.log("mouse up skill:1005 dir:"+this._role_dir)}}},n.onMouseMove=function(t){if(this.cameraNode&&this._character&&this._cameraPivot&&this._isLoggedIn){var e=t.getDeltaX(),i=t.getDeltaY();if(this._turnRolerEnabled){var o=new l,a=c.rotateX(new c,c.IDENTITY,S.toRadian(-i));l.transformQuat(o,this.cameraNode.position,a);var n=l.dot(l.normalize(new l,o),l.UP),r=Math.acos(n),s=S.toDegree(r);s>40&&s<90&&(this._camera_local=o,this.cameraNode.position=this._camera_local.clone());var _=-e*this.rotateSpeed;this._character.rotate(S.Quat.rotateY(new S.Quat,S.Quat.IDENTITY,S.toRadian(_)),h.NodeSpace.WORLD),this.cameraNode.lookAt(this._character.position),l.transformQuat(this._role_dir,new l(0,0,1),this._character.rotation),l.normalize(this._role_dir,this._role_dir);var d=C.create({CRotate:{skill_id:1005,is_start:!0,x:this._role_dir.x,y:this._role_dir.y,z:this._role_dir.z}}),p=C.encode(d).finish();P.instance.send(b.PacMsgID_MSG_ROLE_SKILL_REQ,p)}if(this._turnCameraEnabled){var u=-e*this.rotateSpeed,f=c.rotateY(new c,this._cameraPivot.rotation,S.toRadian(u));this._cameraPivot.rotation=f;var m=c.rotateX(new c,c.IDENTITY,S.toRadian(-i)),g=new l,v=new l;l.subtract(g,this.cameraNode.position,l.ZERO),l.transformQuat(v,g,m),l.add(v,l.ZERO,v),this.cameraNode.position=v,this.cameraNode.lookAt(this._character.position)}}},e}(E)).prototype,"characterPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(D.prototype,"cameraNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(D.prototype,"moveSpeed",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),I=e(D.prototype,"rotateSpeed",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),O=e(D.prototype,"lookSpeed",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),U=e(D.prototype,"maxPitch",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),A=e(D.prototype,"minPitch",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-45}}),z=e(D.prototype,"labelPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=D))||R));n._RF.pop()}}}));

System.register("chunks:///_virtual/TerrainToObj.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,o,i,a,c,s,l,u,p,h,d,f,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,c=e._decorator,s=e.Node,l=e.Terrain,u=e.Button,p=e.TERRAIN_BLOCK_VERTEX_COMPLEXITY,h=e.TERRAIN_BLOCK_TILE_COMPLEXITY,d=e.Vec2,f=e.TERRAIN_BLOCK_VERTEX_SIZE,v=e.Component}],execute:function(){var b,T,y,j,m;a._RF.push({},"e88708/QcVD1bdqXrdWjxs0","TerrainToObj",void 0);var g=c.ccclass,O=c.property;e("TerrainToObj",(b=g("TerrainToObj"),T=O({type:s,tooltip:"按钮节点"}),b((m=t((j=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).terrain=null,n(t,"buttonNode",m,o(t)),t}r(t,e);var a=t.prototype;return a.start=function(){if(this.buttonNode){this.terrain=this.getComponent(l);var e=this.buttonNode.getComponent(u);e?e.node.on("click",this.exportObj.bind(this),this):console.warn("按钮节点上没有 Button 组件")}else console.warn("请在 Inspector 面板中指定按钮节点")},a.update=function(e){},a.exportObj=function(){if(this.terrain){for(var e,t="",r=[],n=[],o=[],a=[],c=0,s=i(this.terrain.getBlocks());!(e=s()).done;){for(var l=e.value,u=0,v=new Float32Array(f*p*p),b=0;b<p;++b)for(var T=0;T<p;++T){var y=l.getIndex()[0]*h+T,j=l.getIndex()[1]*h+b,m=this.terrain.getPosition(y,j),g=this.terrain.getNormal(y,j),O=new d(T/h,b/h);v[u++]=m.x,v[u++]=m.y,v[u++]=m.z,v[u++]=g.x,v[u++]=g.y,v[u++]=g.z,v[u++]=O.x,v[u++]=O.y}for(var _=p*p,E=h,I=0;I<v.length;I+=f){var R=v[I],L=v[I+1],x=v[I+2];r.push("v "+R+" "+L+" "+x);var C=v[I+6],w=v[I+7];n.push("vt "+C+" "+w);var N=v[I+3],B=v[I+4],F=v[I+5];o.push("vn "+N+" "+B+" "+F)}for(var z=0;z<E;z++)for(var A=0;A<E;A++){var P=z*p+A,X=P+1,k=P+p,D=k+1;a.push(this.formatFace(P,X,k,c)),a.push(this.formatFace(X,D,k,c))}c+=_}t+=r.join("\n")+"\n",t+=n.join("\n")+"\n",t+=o.join("\n")+"\n",t+=a.join("\n")+"\n";var V=new Blob([t],{type:"text/plain"}),K=document.createElement("a");K.href=URL.createObjectURL(V),K.download="terrain.obj",document.body.appendChild(K),K.click(),document.body.removeChild(K)}else console.warn("请把该文件跟Terrain组件放在一起")},a.formatFace=function(e,t,r,n){var o=e+n+1,i=t+n+1,a=r+n+1;return"f "+a+"/"+a+"/"+a+" "+i+"/"+i+"/"+i+" "+o+"/"+o+"/"+o},t}(v)).prototype,"buttonNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=j))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/TheLowerHeight.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,o,n,i,a,c,s,h,l;return{setters:[function(e){r=e.inheritsLoose,t=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,n=e._decorator,i=e.Terrain,a=e.TERRAIN_BLOCK_VERTEX_COMPLEXITY,c=e.TERRAIN_BLOCK_TILE_COMPLEXITY,s=e.Vec2,h=e.TERRAIN_BLOCK_VERTEX_SIZE,l=e.Component}],execute:function(){var u;o._RF.push({},"778a164Ww9JY5/k/fAMOTcm","TheLowerHeight",void 0);var g=n.ccclass;n.property,e("TheLowerHeight",g("TheLowerHeight")(u=function(e){function o(){for(var r,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return(r=e.call.apply(e,[this].concat(o))||this).terrain=null,r}r(o,e);var n=o.prototype;return n.start=function(){this.terrain=this.getComponent(i);for(var e,r=1e4,o=t(this.terrain.getBlocks());!(e=o()).done;)for(var n=e.value,l=0,u=new Float32Array(h*a*a),g=0;g<a;++g)for(var p=0;p<a;++p){var f=n.getIndex()[0]*c+p,T=n.getIndex()[1]*c+g,_=this.terrain.getPosition(f,T),L=this.terrain.getNormal(f,T),v=new s(p/c,g/c);u[l++]=_.x,u[l++]=_.y,r>_.y&&(r=_.y),u[l++]=_.z,u[l++]=L.x,u[l++]=L.y,u[l++]=L.z,u[l++]=v.x,u[l++]=v.y}console.log("min_height:",r)},n.update=function(e){},o}(l))||u);o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});